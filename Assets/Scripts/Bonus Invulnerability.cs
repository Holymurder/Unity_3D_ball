using UnityEngine;

public class Bonus : MonoBehaviour
{
    public enum BonusType { FreezeEnemy, Immortality }
    public BonusType bonusType;

    // Параметри для різних типів бонусів
    public EnemyMovement enemyMovement;
    public float stopDuration = 3f;       // Тривалість зупинки ворога
    public float immortalityDuration = 10f; // Тривалість безсмертя гравця

    private void OnTriggerEnter(Collider other)
    {
        if (other.CompareTag("Player"))
        {
            PlayerController playerController = other.GetComponent<PlayerController>();

            switch (bonusType)
            {
                case BonusType.FreezeEnemy:
                    if (enemyMovement != null)
                    {
                        enemyMovement.StopEnemy(stopDuration);
                    }
                    break;

                case BonusType.Immortality:
                    if (playerController != null)
                    {
                        playerController.ActivateImmortality(immortalityDuration);
                    }
                    break;
            }

            Destroy(gameObject); // Видаляємо бонус після активації
        }
    }
}
